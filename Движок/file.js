var map1 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map2 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map3 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map4 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map5 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map6 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map7 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map8 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map9 =  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map10 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map11 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map12 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map13 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map14 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map15 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map16 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map17 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map18 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map19 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map20 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map21 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map22 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map23 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map24 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map25 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var map26 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

var obj1 =  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var obj2 =  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var obj3 =  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var obj4 =  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var obj5 =  [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj6 =  [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj7 =  [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj8 =  [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj9 =  [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj10 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj11 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj12 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj13 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj14 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj15 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj16 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj17 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj18 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj19 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj20 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj21 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj22 = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1];
var obj23 = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var obj24 = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var obj25 = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var obj26 = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var ida = [0], idb = [0], x = 1, y = 1, maxx = 30, maxy = 18;
var playerSide = "S";
$(document).ready(function() {updatemap()});
function updatemap() {
	for (var n = 0; n < 9; n++) {
		if (y + n == 1) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map1[i + x - 2]), 0)}}
		if (y + n == 2) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map2[i + x - 2]), 0)}}
		if (y + n == 3) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map3[i + x - 2]), 0)}}
		if (y + n == 4) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map4[i + x - 2]), 0)}}
		if (y + n == 5) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map5[i + x - 2]), 0)}}
		if (y + n == 6) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map6[i + x - 2]), 0)}}
		if (y + n == 7) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map7[i + x - 2]), 0)}}
		if (y + n == 8) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map8[i + x - 2]), 0)}}
		if (y + n == 9) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map9[i + x - 2]), 0)}}
		if (y + n == 10) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map10[i + x - 2]), 0)}}
		if (y + n == 11) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map11[i + x - 2]), 0)}}
		if (y + n == 12) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map12[i + x - 2]), 0)}}
		if (y + n == 13) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map13[i + x - 2]), 0)}}
		if (y + n == 14) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map14[i + x - 2]), 0)}}
		if (y + n == 15) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map15[i + x - 2]), 0)}}
		if (y + n == 16) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map16[i + x - 2]), 0)}}
		if (y + n == 17) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map17[i + x - 2]), 0)}}
		if (y + n == 18) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map18[i + x - 2]), 0)}}
		if (y + n == 19) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map19[i + x - 2]), 0)}}
		if (y + n == 20) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map20[i + x - 2]), 0)}}
		if (y + n == 21) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map21[i + x - 2]), 0)}}
		if (y + n == 22) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map22[i + x - 2]), 0)}}
		if (y + n == 23) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map23[i + x - 2]), 0)}}
		if (y + n == 24) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map24[i + x - 2]), 0)}}
		if (y + n == 25) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map25[i + x - 2]), 0)}}
		if (y + n == 26) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map26[i + x - 2]), 0)}}
	}
	for (var n = 0; n < 9; n++) {
		if (y + n == 1) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj1[i + x - 2]), 1)}}
		if (y + n == 2) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj2[i + x - 2]), 1)}}
		if (y + n == 3) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj3[i + x - 2]), 1)}}
		if (y + n == 4) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj4[i + x - 2]), 1)}}
		if (y + n == 5) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj5[i + x - 2]), 1)}}
		if (y + n == 6) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj6[i + x - 2]), 1)}}
		if (y + n == 7) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj7[i + x - 2]), 1)}}
		if (y + n == 8) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj8[i + x - 2]), 1)}}
		if (y + n == 9) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj9[i + x - 2]), 1)}}
		if (y + n == 10) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj10[i + x - 2]), 1)}}
		if (y + n == 11) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj11[i + x - 2]), 1)}}
		if (y + n == 12) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj12[i + x - 2]), 1)}}
		if (y + n == 13) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj13[i + x - 2]), 1)}}
		if (y + n == 14) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj14[i + x - 2]), 1)}}
		if (y + n == 15) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj15[i + x - 2]), 1)}}
		if (y + n == 16) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj16[i + x - 2]), 1)}}
		if (y + n == 17) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj17[i + x - 2]), 1)}}
		if (y + n == 18) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj18[i + x - 2]), 1)}}
		if (y + n == 19) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj19[i + x - 2]), 1)}}
		if (y + n == 20) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj20[i + x - 2]), 1)}}
		if (y + n == 21) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj21[i + x - 2]), 1)}}
		if (y + n == 22) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj22[i + x - 2]), 1)}}
		if (y + n == 23) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj23[i + x - 2]), 1)}}
		if (y + n == 24) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj24[i + x - 2]), 1)}}
		if (y + n == 25) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj25[i + x - 2]), 1)}}
		if (y + n == 26) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), objtyper(obj26[i + x - 2]), 1)}}
	}
}
function maptyper(type) {
	if (type == 0) {return "img/grass.png"}
	return "img/error.png";
}
function objtyper(type) {
	if (type == 0) {return "none"}
	if (type == 1) {return "img/tree.png"}
	return "img/error.png";
}
function coords(i, type, index) {
	if (index == 0) {
		if (ida[i] == type) {return ""}
		$("#a" + i).css("background-image", "url("+type+")");ida[i] = type;
	}
	if (index == 1) {
		if (idb[i] == type) {return ""}
		$("#b" + i).css("background-image", "url("+type+")");idb[i] = type;
	}
}
$('html').keydown(function(key) {
	if (key.which == 87) { // W
		if (playerSide != "W") {$("#player").css("background-image", "url(img/playerW.png)");playerSide = "W";}
		if (y != 1) {
			y--;
			updatemap();
		}
	}
	if (key.which == 65) { // A
		if (playerSide != "A") {$("#player").css("background-image", "url(img/playerA.png)");playerSide = "A";}
		if (x != 1) {
			x--;
			updatemap();
		}
	}
	if (key.which == 83) { // S
		if (playerSide != "S") {$("#player").css("background-image", "url(img/playerS.png)");playerSide = "S";}
		if (y != maxy) {
			y++;
			updatemap();
		}
	}
	if (key.which == 68) { // D
		if (playerSide != "D") {$("#player").css("background-image", "url(img/playerD.png)");playerSide = "D";}
		if (x != maxx) {
			x++;
			updatemap();
		}
	}
	if (key.which == 69) { // E
		if ($("#inv").css("visibility") == "hidden") {$("#inv").css("visibility", "visible")}
		else {$("#inv").css("visibility", "hidden")}
	}
});