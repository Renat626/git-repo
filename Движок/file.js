var map1 = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0];
var map2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0];
var map3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0];
var map4 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0];
var map5 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0];
var map6 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0];
var map7 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0];
var map8 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0];
var map9 = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0];
var map10 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var map11 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var map12 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var map13 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var map14 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var map15 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var map16 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

var obj = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var x = 1, y = 1, maxx = 20, maxy = 8;
var playerSide = "S";
$(document).ready(function() {updatemap()});
function updatemap() {
	for (var n = 0; n < 9; n++) {
		if (y + n == 1) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map1[i + x - 2]), 0)}}
		if (y + n == 2) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map2[i + x - 2]), 0)}}
		if (y + n == 3) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map3[i + x - 2]), 0)}}
		if (y + n == 4) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map4[i + x - 2]), 0)}}
		if (y + n == 5) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map5[i + x - 2]), 0)}}
		if (y + n == 6) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map6[i + x - 2]), 0)}}
		if (y + n == 7) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map7[i + x - 2]), 0)}}
		if (y + n == 8) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map8[i + x - 2]), 0)}}
		if (y + n == 9) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map9[i + x - 2]), 0)}}
		if (y + n == 10) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map10[i + x - 2]), 0)}}
		if (y + n == 11) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map11[i + x - 2]), 0)}}
		if (y + n == 12) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map12[i + x - 2]), 0)}}
		if (y + n == 13) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map13[i + x - 2]), 0)}}
		if (y + n == 14) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map14[i + x - 2]), 0)}}
		if (y + n == 15) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map15[i + x - 2]), 0)}}
		if (y + n == 16) {for (var i = 1; i < 20; i++) {coords(i + (19 * n), maptyper(map16[i + x - 2]), 0)}}
	}
}
function coords(i, type, index) {
	if (type == "none") {return ""}
	if (index == 0) {$("#a" + i).css("background-image", "url("+type+")")}
	if (index == 1) {$("#b" + i).css("background-image", "url("+type+")")}
}
function save() {
	for (var i = 1; i < 20; i++) {coords(i + (19 * 0), maptyper(map1[i + x - 2]), 0)}
	for (var i = 1; i < 20; i++) {coords(i + (19 * 1), maptyper(map2[i + x - 2]), 0)}
	for (var i = 1; i < 20; i++) {coords(i + (19 * 2), maptyper(map3[i + x - 2]), 0)}
	for (var i = 1; i < 20; i++) {coords(i + (19 * 3), maptyper(map4[i + x - 2]), 0)}
	for (var i = 1; i < 20; i++) {coords(i + (19 * 4), maptyper(map5[i + x - 2]), 0)}
	for (var i = 1; i < 20; i++) {coords(i + (19 * 5), maptyper(map6[i + x - 2]), 0)}
	for (var i = 1; i < 20; i++) {coords(i + (19 * 6), maptyper(map7[i + x - 2]), 0)}
	for (var i = 1; i < 20; i++) {coords(i + (19 * 7), maptyper(map8[i + x - 2]), 0)}
	for (var i = 1; i < 20; i++) {coords(i + (19 * 8), maptyper(map9[i + x - 2]), 0)}
	//for (var i = 1; i < 172; i++) {coords(i, objtyper(obj[i - 1]), 1)}
}
$('html').keydown(function(key) {
	if (key.which == 87) { // W
		if (playerSide != "W") {$("#player").css("background-image", "url(img/playerW.png)");playerSide = "W";}
		if (y != 1) {
			y--;
			updatemap();
		}
	}
	if (key.which == 65) { // A
		if (playerSide != "A") {$("#player").css("background-image", "url(img/playerA.png)");playerSide = "A";}
		if (x != 1) {
			x--;
			updatemap();
		}
	}
	if (key.which == 83) { // S
		if (playerSide != "S") {$("#player").css("background-image", "url(img/playerS.png)");playerSide = "S";}
		if (y != maxy) {
			y++;
			updatemap();
		}
	}
	if (key.which == 68) { // D
		if (playerSide != "D") {$("#player").css("background-image", "url(img/playerD.png)");playerSide = "D";}
		if (x != maxx) {
			x++;
			updatemap();
		}
	}
});
function maptyper(type) {
	if (type == 0) {return "img/grass.png"}
	return "img/error.png";
}
function objtyper(type) {
	if (type == 0) {return "none"}
	if (type == 1) {return "img/playerS.png"}
	return "img/error.png";
}